---
export interface Props {
  src: string;
  title?: string;
  width?: string;
  height?: string;
}

const { src, title = 'PDF Document', width = '100%', height = '600px' } = Astro.props;
const pdfUrl = src.startsWith('/') ? src : `/files/${src}`;
---

<div class="pdf-embed-container" style={`width: ${width}; height: ${height};`}>
  <div class="pdf-header">
    <h4 class="pdf-title">{title}</h4>
    <a href={pdfUrl} target="_blank" class="pdf-download-link">
      <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
      </svg>
      Download PDF
    </a>
  </div>
  <iframe 
    src={pdfUrl} 
    width="100%" 
    height="100%" 
    style="border: none; border-radius: 8px;"
    title={title}
  ></iframe>
</div>

<style>
  .pdf-embed-container {
    margin: 2rem 0;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  .pdf-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    background: #f8fafc;
    border-bottom: 1px solid #e5e7eb;
  }
  
  .pdf-title {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: #374151;
  }
  
  .pdf-download-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #0066cc;
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    transition: all 0.2s ease;
  }
  
  .pdf-download-link:hover {
    background: #f1f5f9;
    color: #0052a3;
  }
</style>